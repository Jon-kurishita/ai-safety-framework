<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 2: DPL: A Threat Model for Foundation Models - AI Safety Framework</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
<nav>
    <h2>AI Alignment Series</h2>
    <ul>
        <li><a href="index.html">Introduction</a></li>
        <li><a href="chapter-1.html">Chapter 1: DPL: A Continuous Oversight Framework</a></li>
        <li><a href="chapter-2.html">Chapter 2: DPL: A Threat Model for Foundation Models</a></li>
        <li><a href="chapter-3.html">Chapter 3: DPL: Mitigation Strategies and Security Analysis</a></li>
        <li><a href="chapter-4.html">Chapter 4: DPL: The Federation of Ethical Agents</a></li>
        <li><a href="chapter-5.html">Chapter 5: DPL: Implementation and Setup</a></li>
        <li><a href="chapter-6.html">Chapter 6: DPL: Technical Details</a></li>
        <li><a href="chapter-7.html">Chapter 7: DPL: AI Domain and The Global Rapid Response Network</a></li>
        <li><a href="supplement-1.html">Supplement #1: Appendix - Examples and Scenarios</a></li>
        <li><a href="supplement-2.html">Supplement #2: Case studies for the DPL framework</a></li>
        <li><a href="supplement-3.html">Supplement #3: Terminology and Key Concepts</a></li>
        <li><a href="about.html">About</a></li>
    </ul>
</nav>
    <main>
        <header class="page-header">
             {/* --- Consider changing h2 to h1 if this is the main page title --- */}
            <h2 style="text-align: center;">Chapter 2: DPL: A Threat Model for Foundation Models</h2>
        </header>

        {/* === START: Added Audio Player Section === */}
        <div class="audio-section" style="text-align: center; margin-top: 20px; margin-bottom: 30px;">
            <h3 style="color: darkblue; margin-bottom: 10px; text-align: center;">Audio Player</h3>
            {/* Dropdown Selector */}
            <select id="audio-selector" style="padding: 8px; border-radius: 5px; border: 1px solid #ccc; margin-bottom: 10px;">
                {/* === Ensure these URLs point to existing files === */}
                <option value="https://raw.githubusercontent.com/Jon-kurishita/ai-safety-framework/main/Audio/ElevenLabs/ElevenLabs_Chapter-02.mp3">ElevenLabs VoiceOver</option>
                <option value="https://raw.githubusercontent.com/Jon-kurishita/ai-safety-framework/main/Audio/Podcast/Podcast_Chapter-02.wav">NotebookLM Podcast</option>
            </select>
            {/* Audio Player Element */}
            <audio id="audio-player" controls style="width: 80%; max-width: 600px; display: block; margin-left: auto; margin-right: auto;">
                {/* Source element updated by script.js */}
                <source id="audio-source" src="https://raw.githubusercontent.com/Jon-kurishita/ai-safety-framework/main/Audio/ElevenLabs/ElevenLabs_Chapter-02.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>
        {/* === END: Added Audio Player Section === */}

        <hr> {/* Optional Separator */}

        <p>This is where the content for Chapter 2 will go.</p>
        {/* Add rest of Chapter 2 content here later */}

        <div style="margin-top: 50px; padding-top: 20px; border-top: 1px solid #ccc; text-align: right;">
            <p style="font-size: 0.9em; color: #555;">Â© 2025 Jon Kurishita. All rights reserved.</p>
        </div>

    </main>

{/* === START: Added Inline Script === */}
<script>
  const audioSelector = document.getElementById('audio-selector');
  const audioPlayer = document.getElementById('audio-player');
  const audioSource = document.getElementById('audio-source');

  // Check if all elements exist before adding listeners/loading
  if (audioSelector && audioPlayer && audioSource) {
      // Add event listener for changes
      audioSelector.addEventListener('change', function() {
          const selectedAudio = this.value;
          // Basic check for URL structure (optional but good practice)
          if (selectedAudio && typeof selectedAudio === 'string' && selectedAudio.includes('.')) {
              const fileType = selectedAudio.endsWith('.wav') ? 'audio/wav' : 'audio/mpeg'; // Simple type check, extend if needed
              audioSource.src = selectedAudio;
              audioSource.type = fileType;
              audioPlayer.load(); // Important: Reload the audio player to apply the new source
          } else {
              console.error("Invalid audio source selected:", selectedAudio);
              // Optionally disable player or show error message to user
          }
      });

      // Initially load the first audio option if options exist
      if (audioSelector.options.length > 0) {
          const initialAudio = audioSelector.options[0].value;
          if (initialAudio && typeof initialAudio === 'string' && initialAudio.includes('.')) {
              const initialFileType = initialAudio.endsWith('.wav') ? 'audio/wav' : 'audio/mpeg';
              audioSource.src = initialAudio;
              audioSource.type = initialFileType;
              audioPlayer.load(); // Load initial source
          } else {
              console.error("Invalid initial audio source:", initialAudio);
          }
      } else {
          console.error("Audio selector has no options.");
      }
  } else {
      // Log error if any required element is missing
      console.error("Could not find one or more audio elements:", {
          selectorExists: !!audioSelector,
          playerExists: !!audioPlayer,
          sourceExists: !!audioSource
      });
  }
</script>
{/* === END: Added Inline Script === */}

</body>
</html>